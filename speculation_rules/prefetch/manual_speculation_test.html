<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Speculation Rules Manual Test</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: 40px auto; }
    .section { margin: 20px 0; padding: 15px; border: 2px solid #ddd; }
    .eager { border-color: #cc00cc; }
    .conservative { border-color: #cc6600; }
  </style>
</head>
<body>
  <h1>Speculation Rules Manual Test</h1>

  <p><strong>Instructions:</strong> Open DevTools Network panel and Firefox Profiler to observe prefetch behavior.</p>

  <!-- Eager (hover) Eagerness - prefetches on hover -->
  <script type="speculationrules">
  {
    "prefetch": [
      {
        "urls": [
          "speculation_rules_subpage1.html"
        ],
        "eagerness": "eager"
      }
    ]
  }
  </script>

  <!-- Conservative (mousedown) Eagerness - prefetches on mousedown -->
  <script type="speculationrules">
  {
    "prefetch": [
      {
        "urls": [
          "speculation_rules_subpage2.html"
        ],
        "eagerness": "conservative"
      }
    ]
  }
  </script>

  <div class="section eager">
    <h2>Eager Eagerness (Hover)</h2>
    <p>This link should be prefetched when you hover your mouse over it. Watch the Network panel as you hover (don't click yet).</p>
    <a href="speculation_rules_subpage1.html">Subpage 1 (eager/hover)</a>
  </div>

  <div class="section conservative">
    <h2>Conservative Eagerness (Mousedown)</h2>
    <p>This link should only be prefetched when you press the mouse button down on it (before releasing). Watch the Network panel as you click.</p>
    <a href="speculation_rules_subpage2.html">Subpage 2 (conservative/mousedown)</a>
  </div>

  <div class="section">
    <h2>No Speculation Rule</h2>
    <p>This link has no speculation rule and should never be prefetched automatically.</p>
    <a href="speculation_rules_subpage3.html">Subpage 3 (no rule)</a>
  </div>

  <script>
    console.log('Speculation Rules manual test page loaded');
    console.log('Expected behavior:');
    console.log('- Subpage 1: Prefetched when you hover over the link');
    console.log('- Subpage 2: Prefetched when you mousedown on the link');
    console.log('- Subpage 3: Never prefetched');
    console.log('Check Network panel and Firefox Profiler for "Prefetch" markers');
  </script>
</body>
</html>
