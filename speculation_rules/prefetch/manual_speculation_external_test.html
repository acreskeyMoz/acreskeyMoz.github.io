<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>External Speculation Rules Manual Test</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: 40px auto; }
    .section { margin: 20px 0; padding: 15px; border: 2px solid #ddd; }
    .eager { border-color: #cc00cc; }
    .conservative { border-color: #cc6600; }
    .info { background-color: #e7f3ff; padding: 10px; border-radius: 5px; margin: 20px 0; }
  </style>
</head>
<body>
  <h1>External Speculation Rules Manual Test</h1>

  <div class="info">
    <strong>Test Type:</strong> External speculation rules loaded from JSON file<br>
    <strong>Instructions:</strong> Open DevTools Console and Network panel to observe:
    <ul>
      <li>Console should show "Parsed X speculation rules from external file"</li>
      <li>Network panel should show the external rules file being fetched</li>
      <li>Hover/click links to trigger prefetching based on eagerness levels</li>
    </ul>
  </div>

  <!-- Load external speculation rules -->
  <script type="speculationrules" src="speculation_rules_external.json"></script>

  <div class="section eager">
    <h2>Moderate Eagerness (Hover)</h2>
    <p>This link should be prefetched when you hover your mouse over it. Watch the Network panel as you hover (don't click yet).</p>
    <a href="speculation_rules_subpage1.html">Subpage 1 (moderate/hover)</a>
  </div>

  <div class="section conservative">
    <h2>Conservative Eagerness (Mousedown)</h2>
    <p>This link should only be prefetched when you press the mouse button down on it (before releasing). Watch the Network panel as you click.</p>
    <a href="speculation_rules_subpage2.html">Subpage 2 (conservative/mousedown)</a>
  </div>

  <div class="section">
    <h2>No Speculation Rule</h2>
    <p>This link has no speculation rule and should never be prefetched automatically.</p>
    <a href="speculation_rules_subpage3.html">Subpage 3 (no rule)</a>
  </div>

  <div class="section" style="border-color: #0066cc;">
    <h2>Pattern Matching (Wildcard)</h2>
    <p>These links match the wildcard pattern "speculation_rules_*" and should be prefetched on hover.</p>
    <a href="speculation_rules_test1.html">Test Page 1</a><br>
    <a href="speculation_rules_test2.html">Test Page 2</a><br>
    <a href="speculation_rules_other.html">Other Page</a>
  </div>
</body>
</html>
